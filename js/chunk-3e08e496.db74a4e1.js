(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e08e496"],{"1aa8":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"d-flex admin-nav"},[e("div",{staticClass:"nav-top"},[e("div",{staticClass:"logo-part"},[e("router-link",{staticClass:"text-center",attrs:{to:{name:"admin-main"}}},[e("img",{staticClass:"ac-logo",attrs:{src:s("6c6c")}})])],1),e("div",{staticClass:"navigation"},[e("ul",[e("li",[e("router-link",{staticClass:"d-flex nav-link",attrs:{to:{name:"admin-main"}}},[e("IconHome"),e("h4",[t._v("推文清單")])],1)],1),e("li",[e("router-link",{staticClass:"d-flex nav-link",attrs:{to:{name:"admin-users"}}},[e("IconUser"),e("h4",[t._v("使用者列表")])],1)],1)])])]),e("div",{staticClass:"logout"},[e("ul",[e("li",[e("div",{staticClass:"d-flex nav-link",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout.apply(null,arguments)}}},[e("IconLogout"),e("h4",[t._v("登出")])],1)])])])])},n=[],i=(s("14d9"),s("7be9")),r=s("d308"),c=s("2e0e");const o={id:15,email:"user1@example.com",name:"user1",avatar:"https://image.flaticon.com/icons/png/512/847/847969.png",introduction:null,role:"user",account:"user1",cover:"https://images.unsplash.com/27/perspective.jpg?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",createdAt:"2021-07-05T11:04:52.000Z",updatedAt:"2021-07-05T11:04:52.000Z",Followers:[],Followings:[],Likes:[]};var l={components:{IconLogout:i["a"],IconHome:r["a"],IconUser:c["a"]},data(){return{curretUser:o}},methods:{logout(){localStorage.removeItem("admin-token"),this.$router.push("/admin/signin")}}},d=l,u=(s("239e"),s("2877")),m=Object(u["a"])(d,a,n,!1,null,null,null);e["a"]=m.exports},"239e":function(t,e,s){"use strict";s("4b91")},"3f94":function(t,e,s){"use strict";s("9aa7")},"4b91":function(t,e,s){},"4c90":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container adminmain-content"},[e("div",{staticClass:"adminmain"},[e("div",{staticClass:"navbars"},[e("AdminNavBars")],1),e("div",{staticClass:"admintweet-list"},[e("AdminTweetList")],1)])])},n=[],i=s("1aa8"),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"admintweets-container"},[e("h4",[t._v("推文清單")]),t.isProcessing?e("Spinner"):t._e(),e("div",{staticClass:"admintweets-part"},t._l(t.tweets,(function(s){return e("div",{key:s.id},[e("div",{staticClass:"tweet-card d-flex"},[e("router-link",{attrs:{to:{name:"User",params:{id:s.User.UserId}}}},[e("img",{staticClass:"tweet-user-imag",attrs:{src:s.User.avatar}})]),e("div",{staticClass:"tweet-detail"},[e("div",{staticClass:"d-flex justify-content-between"},[e("div",{staticClass:"tweet-detail-title d-flex"},[e("router-link",{attrs:{to:{name:"User",params:{id:s.User.UserId}}}},[e("h5",[t._v(t._s(s.User.name))])]),e("p",{staticClass:"post-time"},[t._v(" @"+t._s(s.User.account)+"·"+t._s(t._f("fromNow")(s.createdAt))+" ")])],1),e("div",{attrs:{clas:"admintweets-delete"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteTweet(s)}}},[e("IconDelete")],1)]),e("p",{staticClass:"tweet-detail-text"},[t._v(" "+t._s(t._f("nameLength")(s.description))+" ")])])],1),e("hr")])})),0)],1)},c=[],o=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"admin-tweets-delete-icon",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M9.414 8.00012L15.207 2.20712C15.597 1.81712 15.597 1.18412 15.207 0.793119C14.817 0.402119 14.184 0.403119 13.793 0.793119L8 6.58612L2.207 0.793119C1.817 0.403119 1.184 0.403119 0.792997 0.793119C0.401997 1.18312 0.402997 1.81612 0.792997 2.20712L6.586 8.00012L0.792997 13.7931C0.402997 14.1831 0.402997 14.8161 0.792997 15.2071C0.987997 15.4021 1.243 15.5001 1.5 15.5001C1.757 15.5001 2.012 15.4021 2.207 15.2071L8 9.41412L13.793 15.2071C13.988 15.4021 14.243 15.5001 14.5 15.5001C14.757 15.5001 15.012 15.4021 15.207 15.2071C15.597 14.8171 15.597 14.1841 15.207 13.7931L9.414 8.00012Z",fill:"#657786"}})])},l=[],d=s("2877"),u={},m=Object(d["a"])(u,o,l,!1,null,null,null),f=m.exports,v=s("2708"),w=s("2fa3"),p=s("be6c"),h=s("d948"),g={components:{IconDelete:f,Spinner:h["a"]},mixins:[v["b"],v["c"]],data(){return{tweets:[],isProcessing:!0}},created(){this.fetchTweets()},methods:{async fetchTweets(){try{const t=await p["a"].adminGetTweets();this.tweets={...t.data},this.isProcessing=!1}catch(t){console.log(t.message)}},async deleteTweet(t){try{await p["a"].delete({tweetId:t.id}),w["a"].fire({icon:"success",title:"刪除成功"}),this.fetchTweets()}catch(e){console.log(e.message),w["a"].fire({icon:"error",title:"無法刪除推文，請重試"})}}}},C=g,_=(s("3f94"),Object(d["a"])(C,r,c,!1,null,null,null)),b=_.exports,x={name:"Home",components:{AdminNavBars:i["a"],AdminTweetList:b}},k=x,I=(s("75dc"),Object(d["a"])(k,a,n,!1,null,null,null));e["default"]=I.exports},5685:function(t,e,s){"use strict";s("6eb7")},"6eb7":function(t,e,s){},"75dc":function(t,e,s){"use strict";s("ca2e")},"9aa7":function(t,e,s){},be6c:function(t,e,s){"use strict";var a=s("2fa3");const n=()=>localStorage.getItem("admin-token");e["a"]={adminGetTweets(){return a["b"].get("/admin/tweets",{headers:{Authorization:"Bearer "+n()}})},adminGetUsers(){return a["b"].get("/admin/users",{headers:{Authorization:"Bearer "+n()}})},delete({tweetId:t}){return a["b"].delete("/admin/tweets/"+t,{headers:{Authorization:"Bearer "+n()}})}}},ca2e:function(t,e,s){},d948:function(t,e,s){"use strict";var a=function(){var t=this;t._self._c;return t._m(0)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"bouncing-loader"},[e("div"),e("div"),e("div")])])}],i=(s("5685"),s("2877")),r={},c=Object(i["a"])(r,a,n,!1,null,"451f49a9",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-3e08e496.db74a4e1.js.map