{"version":3,"sources":["webpack:///./src/components/UserLiked.vue","webpack:///src/components/UserLiked.vue","webpack:///./src/components/UserLiked.vue?10c1","webpack:///./src/components/UserLiked.vue?23dc","webpack:///./src/components/icons/IconReply.vue","webpack:///./src/components/icons/IconReply.vue?d7b5","webpack:///./src/components/UserLiked.vue?38df"],"names":["render","_vm","this","_c","_self","staticClass","_l","tweets","tweet","key","TweetId","attrs","name","params","id","User","avatar","_v","_s","account","_f","createdAt","description","on","$event","catchTweetInfo","RepliesCount","isLike","stopPropagation","preventDefault","cancelHeart","addHeart","LikesCount","openModal","handleCloseModal","_e","staticRenderFns","mixins","components","IconReply","IconHeartEmpty","IconHeartFilled","ReplyPostModal","data","created","methods","userID","console","Toast","icon","title","tweetId","handleOpenModal","component","script"],"mappings":"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","file":"js/chunk-62fd5c33.a79c136c.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-profile-area\"},[_vm._l((_vm.tweets),function(tweet){return _c('div',{key:tweet.TweetId},[_c('div',{staticClass:\"tweet-card d-flex\"},[_c('router-link',{attrs:{\"to\":{ name: 'User', params: { id: tweet.User.id } }}},[_c('img',{staticClass:\"user-self-img\",attrs:{\"src\":tweet.User.avatar}})]),_c('div',{staticClass:\"tweet-detail\"},[_c('div',{staticClass:\"tweet-detail-title d-flex\"},[_c('router-link',{attrs:{\"to\":{ name: 'User', params: { id: tweet.User.id } }}},[_c('h5',[_vm._v(_vm._s(tweet.User.name))])]),_c('p',{staticClass:\"post-time\"},[_vm._v(\" @\"+_vm._s(tweet.User.account)+\"·\"+_vm._s(_vm._f(\"fromNow\")(tweet.createdAt))+\" \")])],1),_c('router-link',{attrs:{\"to\":{ name: 'Reply-list', params: { id: tweet.TweetId } }}},[_c('p',{staticClass:\"tweet-detail-text\"},[_vm._v(\" \"+_vm._s(tweet.description)+\" \")])]),_c('div',{staticClass:\"tweet-detail-icon d-flex\"},[_c('div',{staticClass:\"reply-part d-flex\",on:{\"click\":function($event){return _vm.catchTweetInfo(tweet)}}},[_c('IconReply'),_c('div',{staticClass:\"icon-text\"},[_vm._v(_vm._s(tweet.RepliesCount))])],1),_c('div',{staticClass:\"liked-part d-flex\"},[(tweet.isLike)?_c('div',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.cancelHeart(tweet)}}},[_c('IconHeartFilled')],1):_c('div',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addHeart(tweet)}}},[_c('IconHeartEmpty')],1),_c('div',{staticClass:\"icon-text\"},[_vm._v(_vm._s(tweet.LikesCount))])])])],1)],1),_c('hr')])}),(_vm.openModal)?_c('ReplyPostModal',{attrs:{\"onClose\":_vm.handleCloseModal,\"initialTweet\":_vm.tweet},on:{\"closeModal\":_vm.handleCloseModal}}):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--下方推文區-->\n  <div class=\"user-profile-area\">\n    <div v-for=\"tweet in tweets\" :key=\"tweet.TweetId\">\n      <div class=\"tweet-card d-flex\">\n        <router-link :to=\"{ name: 'User', params: { id: tweet.User.id } }\">\n          <img class=\"user-self-img\" :src=\"tweet.User.avatar\" />\n        </router-link>\n        <div class=\"tweet-detail\">\n          <div class=\"tweet-detail-title d-flex\">\n            <router-link :to=\"{ name: 'User', params: { id: tweet.User.id } }\">\n              <h5>{{ tweet.User.name }}</h5>\n            </router-link>\n            <p class=\"post-time\">\n              @{{ tweet.User.account }}·{{ tweet.createdAt | fromNow }}\n            </p>\n          </div>\n          <router-link\n            :to=\"{ name: 'Reply-list', params: { id: tweet.TweetId } }\"\n          >\n            <p class=\"tweet-detail-text\">\n              {{ tweet.description }}\n            </p>\n          </router-link>\n          <div class=\"tweet-detail-icon d-flex\">\n            <div class=\"reply-part d-flex\" @click=\"catchTweetInfo(tweet)\">\n              <IconReply />\n              <div class=\"icon-text\">{{ tweet.RepliesCount }}</div>\n            </div>\n            <div class=\"liked-part d-flex\">\n              <div v-if=\"tweet.isLike\" @click.stop.prevent=\"cancelHeart(tweet)\">\n                <IconHeartFilled />\n              </div>\n              <div v-else @click.stop.prevent=\"addHeart(tweet)\">\n                <IconHeartEmpty />\n              </div>\n              <div class=\"icon-text\">{{ tweet.LikesCount }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <hr />\n    </div>\n    <!--v-for結束-->\n    <ReplyPostModal   v-if=\"openModal\"\n      :onClose=\"handleCloseModal\"\n      :initialTweet=\"tweet\"\n      @closeModal=\"handleCloseModal\" />\n  </div>\n</template>\n\n<script>\nimport IconReply from \"./icons/IconReply.vue\";\nimport IconHeartEmpty from \"./icons/IconHeartEmpty.vue\";\nimport IconHeartFilled from \"./icons/IconHeartFilled.vue\";\nimport { fromNowFilter } from \"./../utils/mixins\";\nimport ReplyPostModal from \"./modal/ReplyPostModal.vue\";\nimport userAPI from \"../apis/users\";\nimport { Toast } from \"../utils/helpers\";\nimport TweetAPI from \"./../apis/tweets\";\n\nexport default {\n  mixins: [fromNowFilter],\n  components: {\n    IconReply,\n    IconHeartEmpty,\n    IconHeartFilled,\n    ReplyPostModal,\n  },\n  data() {\n    return {\n      tweets: [],\n      openModal: false,\n    };\n  },\n  created() {\n    const { id } = this.$route.params;\n    this.fetchTweets(id);\n  },\n  methods: {\n    async fetchTweets(userID) {\n      try {\n        const response = await userAPI.getUserLiked({ userID });\n        this.tweets = {\n          ...response.data,\n        };\n      } catch (error) {\n        console.log(error.message);\n        Toast.fire({\n          icon: \"error\",\n          title: \"找不到喜歡的內容\",\n        });\n      }\n    },\n    //點擊愛心功能\n    async addHeart(tweet) {\n      try {\n        const { TweetId } = tweet;\n        tweet.LikesCount = tweet.LikesCount + 1;\n        tweet.isLike = !tweet.isLike;\n        await TweetAPI.postTweetLiked({ tweetId: TweetId });\n      } catch (error) {\n        console.log(error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法加入喜歡的貼文，請稍後再試\",\n        });\n        tweet.LikesCount = tweet.LikesCount - 1;\n        tweet.isLike = !tweet.isLike;\n      }\n    },\n    //\n\n    async cancelHeart(tweet) {\n      try {\n        const { TweetId } = tweet;\n        tweet.LikesCount = tweet.LikesCount - 1;\n        tweet.isLike = !tweet.isLike;\n        await TweetAPI.postTweetUnliked({ tweetId: TweetId });\n        const { id } = this.$route.params;\n        this.fetchTweets(id); //讓刪除愛心當下就可以看到他離開清單\n      } catch (error) {\n        console.log(error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取消喜歡的貼文，請稍後再試\",\n        });\n        tweet.LikesCount = tweet.LikesCount + 1;\n        tweet.isLike = !tweet.isLike;\n      }\n    },\n    catchTweetInfo(tweet) {\n      console.log(tweet);\n      this.tweet = tweet;\n      this.handleOpenModal();\n    },\n    handleOpenModal() {\n      this.openModal = true;\n    },\n    handleCloseModal() {\n      this.openModal = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../assets/scss/colorAndSize.scss\";\n@import \"../assets/scss/efficientSetting.scss\";\n\n.user-profile-area {\n  margin-top: 20px;\n  .tweet-card {\n    margin-left: 15px;\n    .user-self-img {\n      @extend %avatar-size;\n      border-radius: 50%;\n      margin-right: 10px;\n    }\n    .tweet-detail {\n      h5 {\n        color: $color-black;\n        word-break: break-all;\n      }\n\n      .post-time {\n        font-size: 15px;\n        margin-left: 5px;\n        color: $color-gray;\n      }\n      &-text {\n        word-break: break-all;\n        color: $color-black;\n        margin: 6px 15px 0 0;\n      }\n      &-icon {\n        font-size: 13px;\n        color: $color-gray;\n        margin-top: 14px;\n        .reply-part {\n          margin-right: 51px;\n        }\n        &:hover {\n          cursor: pointer;\n        }\n      }\n      .icon-text {\n        transform: translate(0, -3px);\n        margin-left: 11px;\n      }\n    }\n  }\n}\n\n//電腦版\n@media screen and (min-width: 576px) {\n  .middle-container {\n    //outline: black 2px solid;\n    height: 100vh;\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLiked.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLiked.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLiked.vue?vue&type=template&id=4da4802a&\"\nimport script from \"./UserLiked.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLiked.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserLiked.vue?vue&type=style&index=0&id=4da4802a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('svg',{attrs:{\"width\":\"13\",\"height\":\"14\",\"viewBox\":\"0 0 13 14\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M7.77875 0.90127L5.18625 0.89502H5.185C2.45125 0.89502 0.309998 3.03689 0.309998 5.77127C0.309998 8.33252 2.30125 10.275 4.97562 10.3775V12.77C4.97562 12.8375 5.00312 12.9488 5.05062 13.0219C5.13937 13.1625 5.29062 13.2388 5.44562 13.2388C5.53187 13.2388 5.61875 13.215 5.69687 13.165C5.86187 13.06 9.7425 10.5775 10.7519 9.72377C11.9406 8.71752 12.6519 7.24252 12.6537 5.77877V5.76814C12.65 3.03877 10.51 0.901269 7.77875 0.900644V0.90127ZM10.1456 9.00877C9.43687 9.60877 7.10687 11.1369 5.91312 11.9106V9.91877C5.91312 9.66002 5.70375 9.45002 5.44437 9.45002H5.19687C2.90937 9.45002 1.24812 7.90252 1.24812 5.77127C1.24812 3.56252 2.97812 1.83252 5.18562 1.83252L7.7775 1.83877H7.77875C9.98625 1.83877 11.7162 3.56752 11.7175 5.77377C11.7156 6.96752 11.1287 8.17627 10.1462 9.00877H10.1456Z\",\"fill\":\"#657786\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconReply.vue?vue&type=template&id=33fe2dcb&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLiked.vue?vue&type=style&index=0&id=4da4802a&prod&lang=scss&\""],"sourceRoot":""}