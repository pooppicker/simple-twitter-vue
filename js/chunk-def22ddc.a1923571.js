(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-def22ddc"],{"5c9c":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"container signup-container"},[t("form",{staticClass:"d-flex flex-column align-items-center"},[t("div",{staticClass:"text-center mb-4"},[t("AcLogo",{staticClass:"mb-4"}),t("h3",{staticClass:"mb-4"},[s._v("建立你的帳號")])],1),t("div",{staticClass:"input-style mb-2"},[t("label",{staticClass:"signin-label",attrs:{for:"account"}},[s._v("帳號")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.account,expression:"account"}],staticClass:"signin-input",attrs:{id:"account",type:"text",autofocus:"",required:""},domProps:{value:s.account},on:{input:function(t){t.target.composing||(s.account=t.target.value)}}}),s.accountCorrect?s._e():t("div",{staticClass:"input-hint"},[s._v("帳號不可有空白！")])]),t("div",{staticClass:"input-style mb-2"},[t("label",{staticClass:"signin-label",attrs:{for:"name"}},[s._v("名稱")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"signin-input",attrs:{id:"name",name:"name",type:"text",autofocus:"",required:""},domProps:{value:s.name},on:{input:function(t){t.target.composing||(s.name=t.target.value)}}}),s.nameCorrect?s._e():t("div",{staticClass:"input-hint"},[s._v("名稱不可超過50個字！")])]),t("div",{staticClass:"input-style mb-2"},[t("label",{staticClass:"signin-label",attrs:{for:"email"}},[s._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"signin-input",attrs:{id:"email",type:"email",autofocus:"",required:""},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}}),s.emailCorrect?s._e():t("div",{staticClass:"input-hint"},[s._v(' 信箱格式錯誤，須含有 "@"、".com" 等字符！ ')])]),t("div",{staticClass:"input-style mb-2"},[t("label",{staticClass:"signin-label",attrs:{for:"password"}},[s._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"signin-input",attrs:{id:"password",name:"password",type:"password",autocomplete:"new-password",required:""},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})]),t("div",{staticClass:"input-style mb-2"},[t("label",{staticClass:"signin-label",attrs:{for:"checkPassword"}},[s._v("密碼確認")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordChecked,expression:"passwordChecked"}],staticClass:"signin-input",attrs:{id:"checkPassword",name:"checkPassword",type:"password",autocomplete:"new-password",required:""},domProps:{value:s.passwordChecked},on:{input:function(t){t.target.composing||(s.passwordChecked=t.target.value)}}}),s.passwordCorrect?s._e():t("div",{staticClass:"input-hint"},[s._v(" 密碼確認須與密碼相同！ ")])]),s.isProcessing?t("button",{staticClass:"signin-btn mb-3",attrs:{type:"submit",disabled:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.handleSubmit.apply(null,arguments)}}},[s._v(" 建立帳號中... ")]):t("button",{staticClass:"signin-btn mb-3",attrs:{type:"submit",disabled:!s.account||!s.password||!s.email||!s.password||!s.passwordChecked},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.handleSubmit.apply(null,arguments)}}},[s._v(" 註冊 ")]),t("router-link",{staticClass:"go-back-link",attrs:{to:"/signin"}},[s._v("取消")])],1)])},i=[],n=(e("d9e2"),e("14d9"),e("ce2c")),o=e("7696"),r=e("2fa3"),c={components:{AcLogo:n["a"]},data(){return{account:"",name:"",email:"",password:"",passwordChecked:"",isProcessing:!1,passwordCorrect:!0,nameCorrect:!0,emailCorrect:!0,accountCorrect:!0}},methods:{async handleSubmit(){try{if(this.isProcessing=!0,!this.account||!this.name||!this.email||!this.password||!this.passwordChecked)return r["a"].fire({icon:"warning",title:"請確認資料皆已填妥"}),void(this.isProcessing=!1);if(this.password!==this.passwordChecked&&(this.passwordCorrect=!1,this.passwordChecked=""),-1!==this.account.indexOf(" ")&&(this.accountCorrect=!1),this.name.length>50&&(this.nameCorrect=!1),-1!==this.email.indexOf("@")&&-1!==this.email.indexOf(".com")||(this.emailCorrect=!1),this.password!==this.passwordChecked||-1!==this.account.indexOf(" ")||this.name.length>50||-1===this.email.indexOf("@")||-1===this.email.indexOf(".com"))return void(this.isProcessing=!1);this.passwordCorrect=!0,this.nameCorrect=!0,this.emailCorrect=!0,this.accountCorrect=!0,this.isProcessing=!0,console.log();const s=await o["a"].signUp({account:this.account,name:this.name,email:this.email,password:this.password,checkPassword:this.passwordChecked}),{data:t}=s;if(console.log(t),"success"!==t.status)throw new Error(t.message);localStorage.setItem("token",t.token),r["a"].fire({icon:"success",title:"註冊成功！請以帳號密碼登入！"}),this.$router.push("/signin")}catch(s){this.password="",this.passwordChecked="",this.isProcessing=!1,console.log(s),"This account name has been registered"===s.message?r["a"].fire({icon:"warning",title:"帳號已重覆註冊"}):"This email has been registered"===s.message?r["a"].fire({icon:"warning",title:"Email已重覆註冊"}):r["a"].fire({icon:"warning",title:"註冊失敗，請稍後再試！"})}}}},l=c,d=(e("b431"),e("2877")),u=Object(d["a"])(l,a,i,!1,null,null,null);t["default"]=u.exports},b431:function(s,t,e){"use strict";e("dbb5")},dbb5:function(s,t,e){}}]);
//# sourceMappingURL=chunk-def22ddc.a1923571.js.map