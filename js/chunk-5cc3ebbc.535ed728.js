(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cc3ebbc"],{"0f7c":function(t,s,i){},"109a":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"container noti-container"},[s("div",{staticClass:"notification"},[s("div",{staticClass:"navbars"},[s("NavBars")],1),s("div",[s("Notifications")],1),s("div",{staticClass:"myfollowing"},[t.isMore?s("MyFollowing"):s("MoreFollowing",{attrs:{onClick:t.showMore}})],1)])])},e=[],o=i("0baf"),n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[t._m(0),s("div",{staticClass:"card-body"},t._l(t.users,(function(i){return s("div",{key:i.id,staticClass:"user-card"},[s("div",{staticClass:"user-info d-flex"},[s("div",{staticClass:"user-detail d-flex"},[s("router-link",{attrs:{to:{name:"User",params:{id:i.id}}}},[s("img",{staticClass:"user-img",attrs:{src:i.avatar}})]),s("div",{staticClass:"user"},[s("router-link",{attrs:{to:{name:"User",params:{id:i.id}}}},[s("h5",{staticClass:"user-name"},[t._v(t._s(t._f("nameLength")(i.name)))]),s("h5",{staticClass:"user-account"},[t._v(" @"+t._s(t._f("accountLength")(i.account))+" ")])])],1)],1),i.id!==t.currentUser.id?s("div",[i.isFollowed?s("button",{staticClass:"btn btn-deletefollow",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.cancelFollow(i)}}},[s("h5",[t._v("正在跟隨")])]):s("button",{staticClass:"btn btn-addfollow",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.addFollow(i)}}},[s("h5",[t._v("跟隨")])])]):t._e()]),i.id!==t.users[9].id?s("hr"):t._e()])})),0)])])},l=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-header"},[s("h4",{staticClass:"card-title"},[t._v("跟隨誰")]),s("hr")])}],r=i("4cce"),c=i("2fa3"),d=i("2f62"),u=i("2708"),h={mixins:[u["e"],u["d"]],data(){return{users:[],isMore:!0}},methods:{async fetchUser(){try{const t=await r["a"].getTopUsers();this.users={...t.data}}catch(t){console.log(t),c["a"].fire({icon:"warning",title:"資料載入錯誤，請稍後再試"})}},async cancelFollow(t){try{t.isFollowed=!1,await r["a"].deleteFollowships({followingId:t.id}),this.fetchUser();const{id:s}=this.$route.params;this.$emit("updatefollower",s)}catch(s){t.isFollowed=!0,console.log(s),c["a"].fire({icon:"warning",title:"取消追蹤失敗，請稍後再試"})}},async addFollow(t){try{t.isFollowed=!0,await r["a"].postFollowships({id:t.id}),this.fetchUser();const{id:s}=this.$route.params;this.$emit("updatefollower",s)}catch(s){t.isFollowed=!1,console.log(s),c["a"].fire({icon:"warning",title:"追蹤失敗，請稍後再試"})}}},created(){this.fetchUser()},computed:{...Object(d["b"])(["currentUser","isNewUser"])},watch:{isNewUser:{handler:function(){this.isNewUser&&(this.fetchUser(),this.$store.commit("updateNewUser"))},deep:!0}}},f=h,m=(i("a5c8"),i("2877")),p=Object(m["a"])(f,n,l,!1,null,"147fb4be",null),v=p.exports,w=function(){var t=this,s=t._self._c;return s("div",{staticClass:"m-card"},[s("div",{staticClass:"card-content"},[t._m(0),s("div",{staticClass:"card-body"},[t._l(t.topUsers,(function(i){return s("div",{key:i.id,staticClass:"user-card"},[s("div",{staticClass:"user-info d-flex"},[s("div",{staticClass:"user-detail d-flex"},[s("router-link",{attrs:{to:{name:"User",params:{id:i.id}}}},[s("img",{staticClass:"user-img",attrs:{src:i.avatar}})]),s("div",{staticClass:"user"},[s("router-link",{attrs:{to:{name:"User",params:{id:i.id}}}},[s("h5",{staticClass:"user-name"},[t._v(t._s(t._f("nameLength")(i.name)))]),s("h5",{staticClass:"user-account"},[t._v(" @"+t._s(t._f("accountLength")(i.account))+" ")])])],1)],1),i.id!==t.currentUser.id?s("div",[i.isFollowed?s("button",{staticClass:"btn btn-deletefollow",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.cancelFollow(i)}}},[s("h5",[t._v("正在跟隨")])]):s("button",{staticClass:"btn btn-addfollow",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.addFollow(i)}}},[s("h5",[t._v("跟隨")])])]):t._e()])])})),s("button",{staticClass:"show-more",on:{click:t.onClick}},[t._v("顯示更多")])],2)])])},C=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-header"},[s("h4",{staticClass:"card-title"},[t._v("跟隨誰")]),s("hr")])}],g={mixins:[u["e"],u["d"]],props:{onClick:{type:Function,required:!0}},data(){return{topUsers:[]}},methods:{async fetchTopUser(){try{const t=await r["a"].getTopfollowingUsers();console.log(t),this.topUsers={...t.data}}catch(t){console.log(t),c["a"].fire({icon:"warning",title:"資料載入錯誤，請稍後再試"})}},async cancelFollow(t){try{t.isFollowed=!1,await r["a"].deleteFollowships({followingId:t.id}),this.fetchUser();const{id:s}=this.$route.params;this.$emit("updatefollower",s)}catch(s){t.isFollowed=!0,console.log(s),c["a"].fire({icon:"warning",title:"取消追蹤失敗，請稍後再試"})}},async addFollow(t){try{t.isFollowed=!0,await r["a"].postFollowships({id:t.id}),this.fetchUser();const{id:s}=this.$route.params;this.$emit("updatefollower",s)}catch(s){t.isFollowed=!1,console.log(s),c["a"].fire({icon:"warning",title:"追蹤失敗，請稍後再試"})}}},created(){this.fetchTopUser()},computed:{...Object(d["b"])(["currentUser","isNewUser"])},watch:{isNewUser:{handler:function(){this.isNewUser&&(this.fetchTopUser(),this.$store.commit("updateNewUser"))},deep:!0}}},_=g,b=(i("b0c1"),Object(m["a"])(_,w,C,!1,null,"00a41f00",null)),U=b.exports,F=function(){var t=this;t._self._c;return t._m(0)},y=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"notification-area"},[s("div",{staticClass:"noti-title"},[s("h4",[t._v("通知")])]),s("hr"),s("div",{staticClass:"noti-content-part"},[s("div",{staticClass:"noti-content"},[s("img",{staticClass:"noti-avatar",attrs:{src:"https://i.ytimg.com/vi/Q9o4MumeWj8/maxresdefault.jpg",alt:""}}),s("h6",{staticClass:"noti-new"},[t._v("JoJo 有新的推文通知")]),s("p",[t._v("Nulla Lorem mollit cupidatat irure. Laborum magna nulla duis ullamco cillum dolor. Voluptate exercitation incididunt aliquip deserunt reprehenderit elit laborum. ")])]),s("div",{staticClass:"noti-content"},[s("img",{staticClass:"noti-avatar",attrs:{src:"https://i.ytimg.com/vi/Q9o4MumeWj8/maxresdefault.jpg",alt:""}}),s("h6",{staticClass:"noti-new"},[t._v("JoJo 有新的回覆")]),s("p",[t._v("Nulla Lorem mollit cupidatat irure. Laborum magna nulla duis ullamco cillum dolor. Voluptate exercitation incididunt aliquip deserunt reprehenderit elit laborum. ")])]),s("div",{staticClass:"noti-content"},[s("img",{staticClass:"noti-avatar",attrs:{src:"https://cdn.myanimelist.net/images/characters/15/422168.jpg",alt:""}}),s("h6",{staticClass:"noti-new"},[t._v("Gojou 開始追蹤你")])]),s("div",{staticClass:"noti-content"},[s("img",{staticClass:"noti-avatar",attrs:{src:"https://i.ytimg.com/vi/Q9o4MumeWj8/maxresdefault.jpg",alt:""}}),s("h6",{staticClass:"noti-new"},[t._v("你的貼文有新的回覆")]),s("p",[t._v("Nulla Lorem mollit cupidatat irure. Laborum magna nulla duis ullamco cillum dolor. Voluptate exercitation incididunt aliquip deserunt reprehenderit elit laborum. ")])]),s("div",{staticClass:"noti-content"},[s("img",{staticClass:"noti-avatar",attrs:{src:"https://i.ytimg.com/vi/Q9o4MumeWj8/maxresdefault.jpg",alt:""}}),s("h6",{staticClass:"noti-new"},[t._v("JoJo 喜歡你的貼文")])]),s("div",{staticClass:"noti-content"},[s("img",{staticClass:"noti-avatar",attrs:{src:"https://i.ytimg.com/vi/Q9o4MumeWj8/maxresdefault.jpg",alt:""}}),s("h6",{staticClass:"noti-new"},[t._v("JoJo 喜歡你的貼文")])])])])}],j=(i("225a"),{}),x=Object(m["a"])(j,F,y,!1,null,null,null),k=x.exports,M={components:{NavBars:o["a"],Notifications:k,MyFollowing:v,MoreFollowing:U},data(){return{isMore:!1}},methods:{showMore(){this.isMore=!0}}},N=M,J=(i("fc70"),Object(m["a"])(N,a,e,!1,null,null,null));s["default"]=J.exports},"225a":function(t,s,i){"use strict";i("5301")},5301:function(t,s,i){},"8c9f":function(t,s,i){},a5c8:function(t,s,i){"use strict";i("8c9f")},b0c1:function(t,s,i){"use strict";i("bf10")},bf10:function(t,s,i){},fc70:function(t,s,i){"use strict";i("0f7c")}}]);
//# sourceMappingURL=chunk-5cc3ebbc.535ed728.js.map